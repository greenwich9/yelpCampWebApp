{"changed":true,"filter":false,"title":"app.js","tooltip":"/app.js","value":"var express = require(\"express\");\nvar app = express();\nvar bodyParser = require(\"body-parser\");\nvar mongoose = require(\"mongoose\");\nvar Campground = require(\"./models/campground\");\nvar seedDB = require(\"./seed\");\nvar Comment = require(\"./models/comment\");\nvar passport    = require(\"passport\");\nvar LocalStrategy = require(\"passport-local\");\nvar User = require(\"./models/user\");\nvar methodOverride = require(\"method-override\");\n\n\nvar commentRoutes    = require(\"./routes/comments\"),\n    campgroundRoutes = require(\"./routes/campgrounds\"),\n    indexRoutes      = require(\"./routes/index\");\n    \n    \napp.use(bodyParser.urlencoded({extended : true}));\n\nmongoose.connect(\"mongodb://localhost/campgrounds\");\napp.use(express.static(__dirname + \"/public\"));\napp.use(methodOverride(\"_method\"));\n// seedDB();\n\napp.set(\"view engine\", \"ejs\");\n\napp.use(require(\"express-session\")({\n    secret: \"future\",\n    resave: false,\n    saveUninitialized: false\n}));\napp.use(passport.initialize());\napp.use(passport.session());\npassport.use(new LocalStrategy(User.authenticate()));\npassport.serializeUser(User.serializeUser());\npassport.deserializeUser(User.deserializeUser());\n\napp.use(function(req, res, next){\n   res.locals.currentUser = req.user;\n   next();\n});\n\napp.use(\"/\", indexRoutes);\napp.use(\"/campgrounds\", campgroundRoutes);\napp.use(\"/campgrounds/:id/comments\", commentRoutes);\n\n\napp.listen(process.env.PORT, process.env.IP, function() {\n    console.log(\"started\");\n});","undoManager":{"mark":-2,"position":100,"stack":[[{"start":{"row":9,"column":3},"end":{"row":9,"column":4},"action":"insert","lines":[" "],"id":916},{"start":{"row":9,"column":4},"end":{"row":9,"column":5},"action":"insert","lines":["U"]},{"start":{"row":9,"column":5},"end":{"row":9,"column":6},"action":"insert","lines":["s"]},{"start":{"row":9,"column":6},"end":{"row":9,"column":7},"action":"insert","lines":["e"]},{"start":{"row":9,"column":7},"end":{"row":9,"column":8},"action":"insert","lines":["r"]}],[{"start":{"row":9,"column":8},"end":{"row":9,"column":9},"action":"insert","lines":[" "],"id":917},{"start":{"row":9,"column":9},"end":{"row":9,"column":10},"action":"insert","lines":["="]}],[{"start":{"row":9,"column":10},"end":{"row":9,"column":11},"action":"insert","lines":[" "],"id":918},{"start":{"row":9,"column":11},"end":{"row":9,"column":12},"action":"insert","lines":["r"]},{"start":{"row":9,"column":12},"end":{"row":9,"column":13},"action":"insert","lines":["e"]},{"start":{"row":9,"column":13},"end":{"row":9,"column":14},"action":"insert","lines":["q"]}],[{"start":{"row":9,"column":11},"end":{"row":9,"column":14},"action":"remove","lines":["req"],"id":919},{"start":{"row":9,"column":11},"end":{"row":9,"column":22},"action":"insert","lines":["require(\"\")"]}],[{"start":{"row":9,"column":20},"end":{"row":9,"column":21},"action":"insert","lines":["."],"id":920},{"start":{"row":9,"column":21},"end":{"row":9,"column":22},"action":"insert","lines":["/"]},{"start":{"row":9,"column":22},"end":{"row":9,"column":23},"action":"insert","lines":["m"]},{"start":{"row":9,"column":23},"end":{"row":9,"column":24},"action":"insert","lines":["o"]},{"start":{"row":9,"column":24},"end":{"row":9,"column":25},"action":"insert","lines":["d"]},{"start":{"row":9,"column":25},"end":{"row":9,"column":26},"action":"insert","lines":["e"]},{"start":{"row":9,"column":26},"end":{"row":9,"column":27},"action":"insert","lines":["l"]},{"start":{"row":9,"column":27},"end":{"row":9,"column":28},"action":"insert","lines":["s"]}],[{"start":{"row":9,"column":28},"end":{"row":9,"column":29},"action":"insert","lines":["."],"id":921},{"start":{"row":9,"column":29},"end":{"row":9,"column":30},"action":"insert","lines":["u"]},{"start":{"row":9,"column":30},"end":{"row":9,"column":31},"action":"insert","lines":["s"]},{"start":{"row":9,"column":31},"end":{"row":9,"column":32},"action":"insert","lines":["e"]}],[{"start":{"row":9,"column":31},"end":{"row":9,"column":32},"action":"remove","lines":["e"],"id":922},{"start":{"row":9,"column":30},"end":{"row":9,"column":31},"action":"remove","lines":["s"]},{"start":{"row":9,"column":29},"end":{"row":9,"column":30},"action":"remove","lines":["u"]},{"start":{"row":9,"column":28},"end":{"row":9,"column":29},"action":"remove","lines":["."]}],[{"start":{"row":9,"column":28},"end":{"row":9,"column":29},"action":"insert","lines":["/"],"id":923},{"start":{"row":9,"column":29},"end":{"row":9,"column":30},"action":"insert","lines":["u"]},{"start":{"row":9,"column":30},"end":{"row":9,"column":31},"action":"insert","lines":["s"]},{"start":{"row":9,"column":31},"end":{"row":9,"column":32},"action":"insert","lines":["e"]},{"start":{"row":9,"column":32},"end":{"row":9,"column":33},"action":"insert","lines":["r"]}],[{"start":{"row":9,"column":35},"end":{"row":9,"column":36},"action":"insert","lines":[";"],"id":924}],[{"start":{"row":17,"column":30},"end":{"row":18,"column":0},"action":"insert","lines":["",""],"id":925},{"start":{"row":18,"column":0},"end":{"row":19,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":19,"column":0},"end":{"row":33,"column":3},"action":"insert","lines":["app.use(require(\"express-session\")({","    secret: \"Once again Rusty wins cutest dog!\",","    resave: false,","    saveUninitialized: false","}));","app.use(passport.initialize());","app.use(passport.session());","passport.use(new LocalStrategy(User.authenticate()));","passport.serializeUser(User.serializeUser());","passport.deserializeUser(User.deserializeUser());","","app.use(function(req, res, next){","   res.locals.currentUser = req.user;","   next();","});"],"id":926}],[{"start":{"row":20,"column":13},"end":{"row":20,"column":45},"action":"remove","lines":["Once again Rusty wins cutest dog"],"id":927}],[{"start":{"row":20,"column":13},"end":{"row":20,"column":14},"action":"remove","lines":["!"],"id":928}],[{"start":{"row":20,"column":13},"end":{"row":20,"column":14},"action":"insert","lines":["h"],"id":929},{"start":{"row":20,"column":14},"end":{"row":20,"column":15},"action":"insert","lines":["a"]},{"start":{"row":20,"column":15},"end":{"row":20,"column":16},"action":"insert","lines":["p"]},{"start":{"row":20,"column":16},"end":{"row":20,"column":17},"action":"insert","lines":["p"]},{"start":{"row":20,"column":17},"end":{"row":20,"column":18},"action":"insert","lines":["e"]}],[{"start":{"row":20,"column":17},"end":{"row":20,"column":18},"action":"remove","lines":["e"],"id":930},{"start":{"row":20,"column":16},"end":{"row":20,"column":17},"action":"remove","lines":["p"]},{"start":{"row":20,"column":15},"end":{"row":20,"column":16},"action":"remove","lines":["p"]},{"start":{"row":20,"column":14},"end":{"row":20,"column":15},"action":"remove","lines":["a"]},{"start":{"row":20,"column":13},"end":{"row":20,"column":14},"action":"remove","lines":["h"]}],[{"start":{"row":20,"column":13},"end":{"row":20,"column":14},"action":"insert","lines":["f"],"id":931},{"start":{"row":20,"column":14},"end":{"row":20,"column":15},"action":"insert","lines":["u"]},{"start":{"row":20,"column":15},"end":{"row":20,"column":16},"action":"insert","lines":["t"]},{"start":{"row":20,"column":16},"end":{"row":20,"column":17},"action":"insert","lines":["u"]},{"start":{"row":20,"column":17},"end":{"row":20,"column":18},"action":"insert","lines":["r"]},{"start":{"row":20,"column":18},"end":{"row":20,"column":19},"action":"insert","lines":["e"]}],[{"start":{"row":112,"column":3},"end":{"row":113,"column":0},"action":"insert","lines":["",""],"id":932},{"start":{"row":113,"column":0},"end":{"row":114,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":114,"column":0},"end":{"row":154,"column":1},"action":"insert","lines":["app.get(\"/register\", function(req, res){","   res.render(\"register\"); ","});","//handle sign up logic","app.post(\"/register\", function(req, res){","    var newUser = new User({username: req.body.username});","    User.register(newUser, req.body.password, function(err, user){","        if(err){","            console.log(err);","            return res.render(\"register\");","        }","        passport.authenticate(\"local\")(req, res, function(){","           res.redirect(\"/campgrounds\"); ","        });","    });","});","","// show login form","app.get(\"/login\", function(req, res){","   res.render(\"login\"); ","});","// handling login logic","app.post(\"/login\", passport.authenticate(\"local\", ","    {","        successRedirect: \"/campgrounds\",","        failureRedirect: \"/login\"","    }), function(req, res){","});","","// logic route","app.get(\"/logout\", function(req, res){","   req.logout();","   res.redirect(\"/campgrounds\");","});","","function isLoggedIn(req, res, next){","    if(req.isAuthenticated()){","        return next();","    }","    res.redirect(\"/login\");","}"],"id":933}],[{"start":{"row":117,"column":0},"end":{"row":117,"column":22},"action":"remove","lines":["//handle sign up logic"],"id":934}],[{"start":{"row":117,"column":0},"end":{"row":118,"column":0},"action":"insert","lines":["",""],"id":935}],[{"start":{"row":132,"column":0},"end":{"row":132,"column":18},"action":"remove","lines":["// show login form"],"id":936}],[{"start":{"row":136,"column":0},"end":{"row":136,"column":23},"action":"remove","lines":["// handling login logic"],"id":937}],[{"start":{"row":136,"column":0},"end":{"row":137,"column":0},"action":"insert","lines":["",""],"id":938}],[{"start":{"row":145,"column":0},"end":{"row":145,"column":14},"action":"remove","lines":["// logic route"],"id":939}],[{"start":{"row":61,"column":27},"end":{"row":61,"column":37},"action":"insert","lines":["isLoggedIn"],"id":940}],[{"start":{"row":61,"column":37},"end":{"row":61,"column":38},"action":"insert","lines":[","],"id":941}],[{"start":{"row":61,"column":27},"end":{"row":61,"column":28},"action":"insert","lines":[" "],"id":942}],[{"start":{"row":80,"column":40},"end":{"row":80,"column":41},"action":"insert","lines":[" "],"id":943}],[{"start":{"row":80,"column":41},"end":{"row":80,"column":51},"action":"insert","lines":["isLoggedIn"],"id":944}],[{"start":{"row":80,"column":51},"end":{"row":80,"column":52},"action":"insert","lines":[","],"id":945}],[{"start":{"row":91,"column":37},"end":{"row":91,"column":38},"action":"insert","lines":[" "],"id":949}],[{"start":{"row":91,"column":38},"end":{"row":91,"column":48},"action":"insert","lines":["isLoggedIn"],"id":950}],[{"start":{"row":91,"column":48},"end":{"row":91,"column":49},"action":"insert","lines":[","],"id":951}],[{"start":{"row":51,"column":25},"end":{"row":51,"column":35},"action":"insert","lines":["isLoggedIn"],"id":952}],[{"start":{"row":51,"column":35},"end":{"row":51,"column":36},"action":"insert","lines":[","],"id":953}],[{"start":{"row":51,"column":36},"end":{"row":51,"column":37},"action":"insert","lines":[" "],"id":954}],[{"start":{"row":104,"column":24},"end":{"row":105,"column":0},"action":"insert","lines":["",""],"id":955},{"start":{"row":105,"column":0},"end":{"row":105,"column":20},"action":"insert","lines":["                    "]},{"start":{"row":105,"column":20},"end":{"row":105,"column":21},"action":"insert","lines":["c"]},{"start":{"row":105,"column":21},"end":{"row":105,"column":22},"action":"insert","lines":["o"]},{"start":{"row":105,"column":22},"end":{"row":105,"column":23},"action":"insert","lines":["m"]},{"start":{"row":105,"column":23},"end":{"row":105,"column":24},"action":"insert","lines":["m"]},{"start":{"row":105,"column":24},"end":{"row":105,"column":25},"action":"insert","lines":["e"]},{"start":{"row":105,"column":25},"end":{"row":105,"column":26},"action":"insert","lines":["n"]},{"start":{"row":105,"column":26},"end":{"row":105,"column":27},"action":"insert","lines":["t"]}],[{"start":{"row":105,"column":27},"end":{"row":105,"column":28},"action":"insert","lines":["."],"id":956},{"start":{"row":105,"column":28},"end":{"row":105,"column":29},"action":"insert","lines":["a"]},{"start":{"row":105,"column":29},"end":{"row":105,"column":30},"action":"insert","lines":["u"]},{"start":{"row":105,"column":30},"end":{"row":105,"column":31},"action":"insert","lines":["t"]},{"start":{"row":105,"column":31},"end":{"row":105,"column":32},"action":"insert","lines":["h"]},{"start":{"row":105,"column":32},"end":{"row":105,"column":33},"action":"insert","lines":["o"]},{"start":{"row":105,"column":33},"end":{"row":105,"column":34},"action":"insert","lines":["r"]}],[{"start":{"row":105,"column":34},"end":{"row":105,"column":35},"action":"insert","lines":[" "],"id":957},{"start":{"row":105,"column":35},"end":{"row":105,"column":36},"action":"insert","lines":["="]}],[{"start":{"row":105,"column":36},"end":{"row":105,"column":37},"action":"insert","lines":[" "],"id":958},{"start":{"row":105,"column":37},"end":{"row":105,"column":38},"action":"insert","lines":["r"]},{"start":{"row":105,"column":38},"end":{"row":105,"column":39},"action":"insert","lines":["e"]},{"start":{"row":105,"column":39},"end":{"row":105,"column":40},"action":"insert","lines":["q"]}],[{"start":{"row":105,"column":39},"end":{"row":105,"column":40},"action":"remove","lines":["q"],"id":959},{"start":{"row":105,"column":38},"end":{"row":105,"column":39},"action":"remove","lines":["e"]},{"start":{"row":105,"column":37},"end":{"row":105,"column":38},"action":"remove","lines":["r"]}],[{"start":{"row":98,"column":18},"end":{"row":99,"column":0},"action":"insert","lines":["",""],"id":960},{"start":{"row":99,"column":0},"end":{"row":99,"column":12},"action":"insert","lines":["            "]},{"start":{"row":99,"column":12},"end":{"row":99,"column":13},"action":"insert","lines":["v"]},{"start":{"row":99,"column":13},"end":{"row":99,"column":14},"action":"insert","lines":["a"]},{"start":{"row":99,"column":14},"end":{"row":99,"column":15},"action":"insert","lines":["r"]}],[{"start":{"row":99,"column":15},"end":{"row":99,"column":16},"action":"insert","lines":[" "],"id":961},{"start":{"row":99,"column":16},"end":{"row":99,"column":17},"action":"insert","lines":["a"]},{"start":{"row":99,"column":17},"end":{"row":99,"column":18},"action":"insert","lines":["u"]},{"start":{"row":99,"column":18},"end":{"row":99,"column":19},"action":"insert","lines":["t"]},{"start":{"row":99,"column":19},"end":{"row":99,"column":20},"action":"insert","lines":["h"]},{"start":{"row":99,"column":20},"end":{"row":99,"column":21},"action":"insert","lines":["o"]},{"start":{"row":99,"column":21},"end":{"row":99,"column":22},"action":"insert","lines":["r"]}],[{"start":{"row":99,"column":22},"end":{"row":99,"column":23},"action":"insert","lines":[" "],"id":962},{"start":{"row":99,"column":23},"end":{"row":99,"column":24},"action":"insert","lines":["="]}],[{"start":{"row":99,"column":24},"end":{"row":99,"column":25},"action":"insert","lines":[" "],"id":963},{"start":{"row":99,"column":25},"end":{"row":99,"column":26},"action":"insert","lines":["r"]},{"start":{"row":99,"column":26},"end":{"row":99,"column":27},"action":"insert","lines":["e"]},{"start":{"row":99,"column":27},"end":{"row":99,"column":28},"action":"insert","lines":["q"]},{"start":{"row":99,"column":28},"end":{"row":99,"column":29},"action":"insert","lines":["."]}],[{"start":{"row":99,"column":29},"end":{"row":99,"column":30},"action":"insert","lines":["u"],"id":964},{"start":{"row":99,"column":30},"end":{"row":99,"column":31},"action":"insert","lines":["s"]},{"start":{"row":99,"column":31},"end":{"row":99,"column":32},"action":"insert","lines":["e"]},{"start":{"row":99,"column":32},"end":{"row":99,"column":33},"action":"insert","lines":["r"]},{"start":{"row":99,"column":33},"end":{"row":99,"column":34},"action":"insert","lines":["."]}],[{"start":{"row":99,"column":33},"end":{"row":99,"column":34},"action":"remove","lines":["."],"id":965}],[{"start":{"row":99,"column":33},"end":{"row":99,"column":34},"action":"insert","lines":[";"],"id":966}],[{"start":{"row":106,"column":37},"end":{"row":106,"column":38},"action":"insert","lines":["a"],"id":967},{"start":{"row":106,"column":38},"end":{"row":106,"column":39},"action":"insert","lines":["u"]},{"start":{"row":106,"column":39},"end":{"row":106,"column":40},"action":"insert","lines":["t"]},{"start":{"row":106,"column":40},"end":{"row":106,"column":41},"action":"insert","lines":["h"]},{"start":{"row":106,"column":41},"end":{"row":106,"column":42},"action":"insert","lines":["r"]},{"start":{"row":106,"column":42},"end":{"row":106,"column":43},"action":"insert","lines":["o"]}],[{"start":{"row":106,"column":42},"end":{"row":106,"column":43},"action":"remove","lines":["o"],"id":968},{"start":{"row":106,"column":41},"end":{"row":106,"column":42},"action":"remove","lines":["r"]}],[{"start":{"row":106,"column":41},"end":{"row":106,"column":42},"action":"insert","lines":["o"],"id":969},{"start":{"row":106,"column":42},"end":{"row":106,"column":43},"action":"insert","lines":["r"]},{"start":{"row":106,"column":43},"end":{"row":106,"column":44},"action":"insert","lines":[";"]}],[{"start":{"row":106,"column":44},"end":{"row":107,"column":0},"action":"insert","lines":["",""],"id":970},{"start":{"row":107,"column":0},"end":{"row":107,"column":20},"action":"insert","lines":["                    "]},{"start":{"row":107,"column":20},"end":{"row":107,"column":21},"action":"insert","lines":["c"]},{"start":{"row":107,"column":21},"end":{"row":107,"column":22},"action":"insert","lines":["o"]},{"start":{"row":107,"column":22},"end":{"row":107,"column":23},"action":"insert","lines":["m"]},{"start":{"row":107,"column":23},"end":{"row":107,"column":24},"action":"insert","lines":["m"]}],[{"start":{"row":107,"column":20},"end":{"row":107,"column":24},"action":"remove","lines":["comm"],"id":971},{"start":{"row":107,"column":20},"end":{"row":107,"column":27},"action":"insert","lines":["comment"]}],[{"start":{"row":107,"column":27},"end":{"row":107,"column":28},"action":"insert","lines":["."],"id":972},{"start":{"row":107,"column":28},"end":{"row":107,"column":29},"action":"insert","lines":["s"]},{"start":{"row":107,"column":29},"end":{"row":107,"column":30},"action":"insert","lines":["a"]},{"start":{"row":107,"column":30},"end":{"row":107,"column":31},"action":"insert","lines":["v"]},{"start":{"row":107,"column":31},"end":{"row":107,"column":32},"action":"insert","lines":["e"]}],[{"start":{"row":107,"column":32},"end":{"row":107,"column":34},"action":"insert","lines":["()"],"id":973}],[{"start":{"row":107,"column":34},"end":{"row":107,"column":35},"action":"insert","lines":[";"],"id":974}],[{"start":{"row":40,"column":0},"end":{"row":76,"column":3},"action":"remove","lines":["app.get(\"/campgrounds\", function(req, res) {","    Campground.find({}, function(err, allCampgrounds){","        if (err) {","            console.log(err);","        } else {","            res.render(\"campgrounds/index\", {campgrounds : allCampgrounds});","        }","    });","    // res.render(\"campgrounds\", );","});","","app.post(\"/campgrounds\", isLoggedIn, function(req, res){","    var name = req.body.name;","    var image = req.body.image;","    var description = req.body.description;","    var newCampground = {name : name, image : image, description : description};","    // campgrounds.push(newCampground);","    Campground.create(newCampground);","    res.redirect(\"/campgrounds\");","});","","app.get(\"/campgrounds/new\", isLoggedIn, function(req, res) {","    res.render(\"campgrounds/new\");","});","","app.get(\"/campgrounds/:id\", function(req, res) {","    Campground.findById(req.params.id).populate(\"comments\").exec(function(err, foundCampground)  {","        console.log(req.params.id);","        if (err) {","            console.log(err);","        } else {","            console.log(foundCampground);","            res.render(\"campgrounds/show\", {campground : foundCampground});","        }","    });","    ","});"],"id":975}],[{"start":{"row":42,"column":0},"end":{"row":79,"column":3},"action":"remove","lines":["//comments routing","","app.get(\"/campgrounds/:id/comments/new\", isLoggedIn, function(req, res) {","    Campground.findById(req.params.id, function(err, foundCampground) {","        if (err) {","            console.log(err);","        } else {","            res.render(\"comments/new\", {campground : foundCampground});","            // res.redirect(\"/campgrounds/:id/\");","        }","    });","    ","});","app.post(\"/campgrounds/:id/comments\", isLoggedIn, function(req, res){","    // var name = req.body.name;","    // var image = req.body.image;","    // var description = req.body.description;","    // var newCampground = {name : name, image : image, description : description};","    // campgrounds.push(newCampground);","    Campground.findById(req.params.id, function(err, campground) {","        if (err) {","            var author = req.user;","            console.log(err);","        } else {","            Comment.create(req.body.comment, function(err, comment) {","                if (err) {","                    console.log(err);","                } else {","                    comment.author = author;","                    comment.save();","                    campground.comments.push(comment);","                    campground.save();","                }","            });","            res.redirect(\"/campgrounds/\" + req.params.id);","        }","    });","});"],"id":976}],[{"start":{"row":41,"column":0},"end":{"row":42,"column":0},"action":"remove","lines":["",""],"id":977},{"start":{"row":40,"column":0},"end":{"row":41,"column":0},"action":"remove","lines":["",""]},{"start":{"row":39,"column":0},"end":{"row":40,"column":0},"action":"remove","lines":["",""]},{"start":{"row":38,"column":0},"end":{"row":39,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":35,"column":0},"end":{"row":76,"column":0},"action":"remove","lines":["app.get(\"/\", function(req, res) {","    res.render(\"landing\");","});","","","app.get(\"/register\", function(req, res){","   res.render(\"register\"); ","});","","","app.post(\"/register\", function(req, res){","    var newUser = new User({username: req.body.username});","    User.register(newUser, req.body.password, function(err, user){","        if(err){","            console.log(err);","            return res.render(\"register\");","        }","        passport.authenticate(\"local\")(req, res, function(){","           res.redirect(\"/campgrounds\"); ","        });","    });","});","","","app.get(\"/login\", function(req, res){","   res.render(\"login\"); ","});","","","app.post(\"/login\", passport.authenticate(\"local\", ","    {","        successRedirect: \"/campgrounds\",","        failureRedirect: \"/login\"","    }), function(req, res){","});","","","app.get(\"/logout\", function(req, res){","   req.logout();","   res.redirect(\"/campgrounds\");","});",""],"id":978}],[{"start":{"row":10,"column":0},"end":{"row":11,"column":0},"action":"insert","lines":["",""],"id":979},{"start":{"row":11,"column":0},"end":{"row":12,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":12,"column":0},"end":{"row":14,"column":48},"action":"insert","lines":["var commentRoutes    = require(\"./routes/comments\"),","    campgroundRoutes = require(\"./routes/campgrounds\"),","    indexRoutes      = require(\"./routes/index\")"],"id":980}],[{"start":{"row":14,"column":48},"end":{"row":15,"column":0},"action":"insert","lines":["",""],"id":981},{"start":{"row":15,"column":0},"end":{"row":15,"column":4},"action":"insert","lines":["    "]},{"start":{"row":15,"column":4},"end":{"row":16,"column":0},"action":"insert","lines":["",""]},{"start":{"row":16,"column":0},"end":{"row":16,"column":4},"action":"insert","lines":["    "]}],[{"start":{"row":14,"column":48},"end":{"row":14,"column":49},"action":"insert","lines":["l"],"id":982}],[{"start":{"row":14,"column":48},"end":{"row":14,"column":49},"action":"remove","lines":["l"],"id":983}],[{"start":{"row":14,"column":48},"end":{"row":14,"column":49},"action":"insert","lines":[";"],"id":984}],[{"start":{"row":39,"column":3},"end":{"row":40,"column":0},"action":"insert","lines":["",""],"id":985},{"start":{"row":40,"column":0},"end":{"row":41,"column":0},"action":"insert","lines":["",""]},{"start":{"row":41,"column":0},"end":{"row":41,"column":1},"action":"insert","lines":["a"]},{"start":{"row":41,"column":1},"end":{"row":41,"column":2},"action":"insert","lines":["p"]},{"start":{"row":41,"column":2},"end":{"row":41,"column":3},"action":"insert","lines":["p"]}],[{"start":{"row":41,"column":3},"end":{"row":41,"column":4},"action":"insert","lines":["."],"id":986},{"start":{"row":41,"column":4},"end":{"row":41,"column":5},"action":"insert","lines":["u"]},{"start":{"row":41,"column":5},"end":{"row":41,"column":6},"action":"insert","lines":["s"]},{"start":{"row":41,"column":6},"end":{"row":41,"column":7},"action":"insert","lines":["e"]}],[{"start":{"row":41,"column":7},"end":{"row":41,"column":9},"action":"insert","lines":["()"],"id":987}],[{"start":{"row":41,"column":8},"end":{"row":41,"column":10},"action":"insert","lines":["\"\""],"id":988}],[{"start":{"row":41,"column":9},"end":{"row":41,"column":10},"action":"insert","lines":["/"],"id":989}],[{"start":{"row":41,"column":11},"end":{"row":41,"column":12},"action":"insert","lines":[","],"id":990}],[{"start":{"row":41,"column":12},"end":{"row":41,"column":13},"action":"insert","lines":[" "],"id":991}],[{"start":{"row":41,"column":13},"end":{"row":41,"column":14},"action":"insert","lines":["i"],"id":992},{"start":{"row":41,"column":14},"end":{"row":41,"column":15},"action":"insert","lines":["n"]},{"start":{"row":41,"column":15},"end":{"row":41,"column":16},"action":"insert","lines":["d"]},{"start":{"row":41,"column":16},"end":{"row":41,"column":17},"action":"insert","lines":["e"]}],[{"start":{"row":41,"column":13},"end":{"row":41,"column":17},"action":"remove","lines":["inde"],"id":993},{"start":{"row":41,"column":13},"end":{"row":41,"column":24},"action":"insert","lines":["indexRoutes"]}],[{"start":{"row":41,"column":25},"end":{"row":41,"column":26},"action":"insert","lines":[";"],"id":994}],[{"start":{"row":41,"column":26},"end":{"row":42,"column":0},"action":"insert","lines":["",""],"id":995}],[{"start":{"row":42,"column":0},"end":{"row":43,"column":52},"action":"insert","lines":["app.use(\"/campgrounds\", campgroundRoutes);","app.use(\"/campgrounds/:id/comments\", commentRoutes);"],"id":996}],[{"start":{"row":46,"column":0},"end":{"row":51,"column":1},"action":"remove","lines":["function isLoggedIn(req, res, next){","    if(req.isAuthenticated()){","        return next();","    }","    res.redirect(\"/login\");","}"],"id":997}],[{"start":{"row":45,"column":0},"end":{"row":46,"column":0},"action":"remove","lines":["",""],"id":998},{"start":{"row":44,"column":0},"end":{"row":45,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":21,"column":0},"end":{"row":21,"column":3},"action":"insert","lines":["// "],"id":999}],[{"start":{"row":9,"column":36},"end":{"row":10,"column":0},"action":"insert","lines":["",""],"id":1000},{"start":{"row":10,"column":0},"end":{"row":10,"column":1},"action":"insert","lines":["v"]},{"start":{"row":10,"column":1},"end":{"row":10,"column":2},"action":"insert","lines":["a"]},{"start":{"row":10,"column":2},"end":{"row":10,"column":3},"action":"insert","lines":["r"]}],[{"start":{"row":10,"column":3},"end":{"row":10,"column":4},"action":"insert","lines":[" "],"id":1001},{"start":{"row":10,"column":4},"end":{"row":10,"column":5},"action":"insert","lines":["m"]},{"start":{"row":10,"column":5},"end":{"row":10,"column":6},"action":"insert","lines":["e"]},{"start":{"row":10,"column":6},"end":{"row":10,"column":7},"action":"insert","lines":["t"]},{"start":{"row":10,"column":7},"end":{"row":10,"column":8},"action":"insert","lines":["h"]},{"start":{"row":10,"column":8},"end":{"row":10,"column":9},"action":"insert","lines":["o"]},{"start":{"row":10,"column":9},"end":{"row":10,"column":10},"action":"insert","lines":["d"]},{"start":{"row":10,"column":10},"end":{"row":10,"column":11},"action":"insert","lines":["O"]},{"start":{"row":10,"column":11},"end":{"row":10,"column":12},"action":"insert","lines":["v"]}],[{"start":{"row":10,"column":12},"end":{"row":10,"column":13},"action":"insert","lines":["e"],"id":1002},{"start":{"row":10,"column":13},"end":{"row":10,"column":14},"action":"insert","lines":["r"]},{"start":{"row":10,"column":14},"end":{"row":10,"column":15},"action":"insert","lines":["r"]},{"start":{"row":10,"column":15},"end":{"row":10,"column":16},"action":"insert","lines":["i"]},{"start":{"row":10,"column":16},"end":{"row":10,"column":17},"action":"insert","lines":["d"]},{"start":{"row":10,"column":17},"end":{"row":10,"column":18},"action":"insert","lines":["e"]}],[{"start":{"row":10,"column":18},"end":{"row":10,"column":19},"action":"insert","lines":[" "],"id":1003},{"start":{"row":10,"column":19},"end":{"row":10,"column":20},"action":"insert","lines":["="]}],[{"start":{"row":10,"column":20},"end":{"row":10,"column":21},"action":"insert","lines":[" "],"id":1004},{"start":{"row":10,"column":21},"end":{"row":10,"column":22},"action":"insert","lines":["r"]},{"start":{"row":10,"column":22},"end":{"row":10,"column":23},"action":"insert","lines":["e"]},{"start":{"row":10,"column":23},"end":{"row":10,"column":24},"action":"insert","lines":["q"]},{"start":{"row":10,"column":24},"end":{"row":10,"column":25},"action":"insert","lines":["u"]}],[{"start":{"row":10,"column":21},"end":{"row":10,"column":25},"action":"remove","lines":["requ"],"id":1005},{"start":{"row":10,"column":21},"end":{"row":10,"column":32},"action":"insert","lines":["require(\"\")"]}],[{"start":{"row":10,"column":30},"end":{"row":10,"column":31},"action":"insert","lines":["m"],"id":1006},{"start":{"row":10,"column":31},"end":{"row":10,"column":32},"action":"insert","lines":["e"]},{"start":{"row":10,"column":32},"end":{"row":10,"column":33},"action":"insert","lines":["t"]},{"start":{"row":10,"column":33},"end":{"row":10,"column":34},"action":"insert","lines":["h"]},{"start":{"row":10,"column":34},"end":{"row":10,"column":35},"action":"insert","lines":["o"]},{"start":{"row":10,"column":35},"end":{"row":10,"column":36},"action":"insert","lines":["d"]},{"start":{"row":10,"column":36},"end":{"row":10,"column":37},"action":"insert","lines":["-"]}],[{"start":{"row":10,"column":37},"end":{"row":10,"column":38},"action":"insert","lines":["o"],"id":1007},{"start":{"row":10,"column":38},"end":{"row":10,"column":39},"action":"insert","lines":["v"]},{"start":{"row":10,"column":39},"end":{"row":10,"column":40},"action":"insert","lines":["e"]},{"start":{"row":10,"column":40},"end":{"row":10,"column":41},"action":"insert","lines":["r"]},{"start":{"row":10,"column":41},"end":{"row":10,"column":42},"action":"insert","lines":["i"]}],[{"start":{"row":10,"column":41},"end":{"row":10,"column":42},"action":"remove","lines":["i"],"id":1008}],[{"start":{"row":10,"column":41},"end":{"row":10,"column":42},"action":"insert","lines":["r"],"id":1009},{"start":{"row":10,"column":42},"end":{"row":10,"column":43},"action":"insert","lines":["i"]},{"start":{"row":10,"column":43},"end":{"row":10,"column":44},"action":"insert","lines":["d"]},{"start":{"row":10,"column":44},"end":{"row":10,"column":45},"action":"insert","lines":["e"]}],[{"start":{"row":10,"column":47},"end":{"row":10,"column":48},"action":"insert","lines":[";"],"id":1010}],[{"start":{"row":21,"column":47},"end":{"row":22,"column":0},"action":"insert","lines":["",""],"id":1011},{"start":{"row":22,"column":0},"end":{"row":22,"column":1},"action":"insert","lines":["a"]},{"start":{"row":22,"column":1},"end":{"row":22,"column":2},"action":"insert","lines":["p"]},{"start":{"row":22,"column":2},"end":{"row":22,"column":3},"action":"insert","lines":["p"]},{"start":{"row":22,"column":3},"end":{"row":22,"column":4},"action":"insert","lines":["."]},{"start":{"row":22,"column":4},"end":{"row":22,"column":5},"action":"insert","lines":["u"]},{"start":{"row":22,"column":5},"end":{"row":22,"column":6},"action":"insert","lines":["s"]}],[{"start":{"row":22,"column":6},"end":{"row":22,"column":7},"action":"insert","lines":["e"],"id":1012}],[{"start":{"row":22,"column":7},"end":{"row":22,"column":9},"action":"insert","lines":["()"],"id":1013}],[{"start":{"row":22,"column":8},"end":{"row":22,"column":9},"action":"insert","lines":["m"],"id":1014},{"start":{"row":22,"column":9},"end":{"row":22,"column":10},"action":"insert","lines":["e"]}],[{"start":{"row":22,"column":8},"end":{"row":22,"column":10},"action":"remove","lines":["me"],"id":1015},{"start":{"row":22,"column":8},"end":{"row":22,"column":22},"action":"insert","lines":["methodOverride"]}],[{"start":{"row":22,"column":22},"end":{"row":22,"column":24},"action":"insert","lines":["()"],"id":1016}],[{"start":{"row":22,"column":23},"end":{"row":22,"column":25},"action":"insert","lines":["\"\""],"id":1017}],[{"start":{"row":22,"column":24},"end":{"row":22,"column":25},"action":"insert","lines":["_"],"id":1018},{"start":{"row":22,"column":25},"end":{"row":22,"column":26},"action":"insert","lines":["m"]},{"start":{"row":22,"column":26},"end":{"row":22,"column":27},"action":"insert","lines":["e"]},{"start":{"row":22,"column":27},"end":{"row":22,"column":28},"action":"insert","lines":["t"]},{"start":{"row":22,"column":28},"end":{"row":22,"column":29},"action":"insert","lines":["h"]},{"start":{"row":22,"column":29},"end":{"row":22,"column":30},"action":"insert","lines":["o"]},{"start":{"row":22,"column":30},"end":{"row":22,"column":31},"action":"insert","lines":["d"]}],[{"start":{"row":22,"column":34},"end":{"row":22,"column":35},"action":"insert","lines":[";"],"id":1019}]]},"ace":{"folds":[],"scrolltop":559.5,"scrollleft":0,"selection":{"start":{"row":22,"column":35},"end":{"row":22,"column":35},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":43,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1526263016429}